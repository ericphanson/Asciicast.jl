<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Markdown usage · Asciicast.jl</title><meta name="title" content="Markdown usage · Asciicast.jl"/><meta property="og:title" content="Markdown usage · Asciicast.jl"/><meta property="twitter:title" content="Markdown usage · Asciicast.jl"/><meta name="description" content="Documentation for Asciicast.jl."/><meta property="og:description" content="Documentation for Asciicast.jl."/><meta property="twitter:description" content="Documentation for Asciicast.jl."/><meta property="og:url" content="https://ericphanson.github.io/Asciicast.jl/markdown_usage/"/><meta property="twitter:url" content="https://ericphanson.github.io/Asciicast.jl/markdown_usage/"/><link rel="canonical" href="https://ericphanson.github.io/Asciicast.jl/markdown_usage/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><script src="https://cdn.jsdelivr.net/npm/asciinema-player@3.6.3/dist/bundle/asciinema-player.min.js"></script><link href="https://cdn.jsdelivr.net/npm/asciinema-player@3.6.3/dist/bundle/asciinema-player.min.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Asciicast.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../creating_casts/">Creating casts</a></li><li><a class="tocitem" href="../documenter_usage/">Documenter usage</a></li><li class="is-active"><a class="tocitem" href>Markdown usage</a><ul class="internal"><li><a class="tocitem" href="#Markdown-usage"><span>Markdown usage</span></a></li></ul></li><li><a class="tocitem" href="../cast_files/">Cast files</a></li><li><a class="tocitem" href="../limitations/">Limitations</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Markdown usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Markdown usage</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ericphanson/Asciicast.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ericphanson/Asciicast.jl/blob/main/docs/src/markdown_usage.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Markdown-usage"><a class="docs-heading-anchor" href="#Markdown-usage">Markdown usage</a><a id="Markdown-usage-1"></a><a class="docs-heading-anchor-permalink" href="#Markdown-usage" title="Permalink"></a></h2><p>Asciicast provides facilities for maintaining gifs showcasing package functionality in READMEs, or otherwise adding animated gifs to Julia code blocks in documents.</p><h3 id="julia-{cast&quot;true&quot;}-code-blocks"><a class="docs-heading-anchor" href="#julia-{cast&quot;true&quot;}-code-blocks"><code>julia {cast=&quot;true&quot;}</code> code blocks</a><a id="julia-{cast&quot;true&quot;}-code-blocks-1"></a><a class="docs-heading-anchor-permalink" href="#julia-{cast&quot;true&quot;}-code-blocks" title="Permalink"></a></h3><p>To use functionality, simply add <code>julia {cast=&quot;true&quot;}</code> code-blocks to your document. For example,</p><pre><code class="language-markdown hljs">```julia {cast=&quot;true&quot;}
using Pkg
Pkg.status()
```</code></pre><p>Then run <a href="#Asciicast.cast_document"><code>cast_document</code></a> (or the helper <a href="#Asciicast.cast_readme"><code>cast_readme</code></a>) on the file. This will turn it into:</p><pre><code class="language-markdown hljs">```julia {cast=&quot;true&quot;}
using Pkg
Pkg.status()
```
![](assets/output_1_@cast.gif)</code></pre><p>and generate a gif in the <code>assets</code> directory.</p><p>One can also customize the font-size and the delay:</p><pre><code class="language-markdown hljs">```julia {cast=&quot;true&quot; font-size=28 delay=0.5}
using Pkg
Pkg.status()
```</code></pre><p>Note that the attributes must be separated by spaces, not commas, as shown above.</p><p>Here, the gifs are generated with <a href="https://github.com/asciinema/agg"><code>agg</code></a> (which is installed automatically using a JLL package), and the font-size parameter is passed there. Currently no other <code>agg</code> parameters are supported, but file an issue if you have a use for one.</p><h3 id="Named-blocks"><a class="docs-heading-anchor" href="#Named-blocks">Named blocks</a><a id="Named-blocks-1"></a><a class="docs-heading-anchor-permalink" href="#Named-blocks" title="Permalink"></a></h3><p>One can name blocks to continue execution after interrupting by some text. For example:</p><pre><code class="language-markdown hljs">Here we have `x`:
```julia {cast=&quot;true&quot; name=&quot;ex1&quot;}
x=2

```

Now we add 1:
```julia {cast=&quot;true&quot; name=&quot;ex1&quot;}
y = x+1

```</code></pre><p>This works the same way as <a href="https://documenter.juliadocs.org/stable/man/syntax/#@example-block">named example blocks in Documenter</a>.</p><h3 id="All-supported-attributes"><a class="docs-heading-anchor" href="#All-supported-attributes">All supported attributes</a><a id="All-supported-attributes-1"></a><a class="docs-heading-anchor-permalink" href="#All-supported-attributes" title="Permalink"></a></h3><ul><li><code>delay::Float64=0.25</code>. The amount of delay between line executions (to emulate typing time).</li><li><code>font-size::Int=28</code>. Used by <code>agg</code> when generating the gif.</li><li><code>height::Int</code>. Heuristically determined by default. Set to an integer to specify the number of lines.</li><li><code>allow_errors::Bool=false</code>. Whether or not <a href="#Asciicast.cast_document"><code>cast_document</code></a> (or <a href="#Asciicast.cast_readme"><code>cast_readme</code></a>) should fail if exceptions are encountered during execution of the block.</li><li><code>name::String</code>. Optionally provide a name to allow running multiple examples in the same module, similar to named example blocks in Documenter.</li></ul><h3 id="Syntax-notes"><a class="docs-heading-anchor" href="#Syntax-notes">Syntax notes</a><a id="Syntax-notes-1"></a><a class="docs-heading-anchor-permalink" href="#Syntax-notes" title="Permalink"></a></h3><p>A note on the syntax. Here we want to ensure that the code snippet continues to get syntax highlighting, but also mark it somehow so we can detect that we want to generate a gif for this snippet. The implementation behind-the-scenes uses pandoc, so we are somewhat limited by what pandoc can support. Here, we are using &quot;attributes&quot; (<code>{cast=&quot;true&quot;}</code>) so we can keep &quot;julia&quot; as the first &quot;class&quot;, so that syntax highlighting still works, while being able to pass <code>cast=&quot;true&quot;</code> into the pandoc AST so that we can detect it there and generate the gif. I initially tried just <code>julia-cast</code> or <code>julia:@cast</code> as the language, but GitHub stops providing julia highlighting in that case.</p><p>Additionally, I use <code>@cast</code> in the output filename, so that future runs can identify <code>@cast</code>-generated gifs and remove the image tags, to prevent duplicating them when running <code>cast_document</code> again to update the gifs.</p><h3 id="Reference-docs"><a class="docs-heading-anchor" href="#Reference-docs">Reference docs</a><a id="Reference-docs-1"></a><a class="docs-heading-anchor-permalink" href="#Reference-docs" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Asciicast.cast_readme" href="#Asciicast.cast_readme"><code>Asciicast.cast_readme</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cast_readme(MyPackage::Module)
cast_readme(MyPackage::Module, output_path)</code></pre><p>Add gifs for each <code>julia {cast=&quot;true&quot;}</code> code-block in the README of MyPackage. This is just a smaller helper that calls <a href="#Asciicast.cast_document"><code>cast_document</code></a> on <code>joinpath(pkgdir(MyPackage), &quot;README.md&quot;)</code>. See <a href="#Asciicast.cast_document"><code>cast_document</code></a> for more options and warnings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/Asciicast.jl/blob/1c443a3dae5b3a5a9cc26b613692590eaccbfa0a/src/gif.jl#L84-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Asciicast.cast_document" href="#Asciicast.cast_document"><code>Asciicast.cast_document</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cast_document(input_path, output_path=input_path; format=&quot;gfm+attributes&quot;)</code></pre><p>For each <code>julia {cast=&quot;true&quot;}</code> code-block in the input document, generates a gif executing that code in a REPL, saves it to <code>joinpath(dirname(output_path), &quot;assets&quot;)</code> and inserts it as an image following the code-block, writing the resulting document to <code>output_path</code>.</p><p>The default <code>format</code> is Github-flavored markdown. Specify the <code>format</code> keyword argument to choose an alternate pandoc-supported format (see <a href="https://pandoc.org/MANUAL.html#general-options">https://pandoc.org/MANUAL.html#general-options</a>). This has only been tested with Github-flavored markdown, but theoretically should work with any pandoc format.</p><p>Returns the number of gifs generated.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This function relies on parsing the document using pandoc and roundtripping through the pandoc AST. This can result in unexpected modifications to the document.</p><p>It is recommended to check your document into source control before running this function, or specifying an <code>output_path</code> that is different from the input path, in order to assess the results.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ericphanson/Asciicast.jl/blob/1c443a3dae5b3a5a9cc26b613692590eaccbfa0a/src/gif.jl#L94-L112">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../documenter_usage/">« Documenter usage</a><a class="docs-footer-nextpage" href="../cast_files/">Cast files »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 9 December 2024 11:47">Monday 9 December 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
